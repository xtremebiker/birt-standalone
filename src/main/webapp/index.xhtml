<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>BIRT Standalone</title>
</h:head>

<h:body>

	<h:outputStylesheet library="css" name="styles.css" />

	<h2>A simple web servlet which serves reports powered by BIRT
		engine</h2>

	<h:messages />

	<ul>
		<li>Report templates path: #{viewController.templatesPath}</li>
	</ul>

	<h:form>
		<h:panelGrid columns="2">
			<h:outputLabel value="Report Template" />
			<h:inputText value="#{viewController.reportTemplate}" required="true" />
		</h:panelGrid>
		<h:commandButton value="Add Parameter"
			action="#{viewController.addParameter}">
			<f:ajax render="@form" />
		</h:commandButton>
		<h:panelGrid columns="3">
			<c:forEach var="urlParam" items="#{viewController.urlParams}">
				<h:inputText value="#{urlParam.name}" required="true"
					pt:placeholder="Param name" />
				<h:inputText value="#{urlParam.value}" required="true"
					pt:placeholder="Param value" />
				<h:commandButton value="Remove"
					action="#{viewController.removeParameter(urlParam)}">
					<f:ajax render="@form" />
				</h:commandButton>
			</c:forEach>
		</h:panelGrid>
		<h:commandButton value="Render"
			action="#{viewController.renderReportFrame}" />
		<a href="#{viewController.reportUrl}" target="_blank">Go to report</a>
	</h:form>

	<iframe src="#{viewController.reportUrl}" width="95%" height="60%" />


</h:body>

</html>